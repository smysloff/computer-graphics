<!--- file: 04_fill_circle.md --->

# Лекция №4: "Закраска окружности (Fill Circle)"

## Основная идея:

Мы не просто рисуем контур. Нам нужно заполнить все пиксели внутри него.

### Самый простой способ (на основе нашего алгоритма):

* Мы рисуем окружность по алгоритму Брезенхема, получая точки `(x, y)` на контуре.

* Для каждой такой точки мы рисуем не один пиксель, а горизонтальную линию между точками `(-x, y)` и `(x, y)` (и для всех симметричных октантов!).

### Почему это работает?

Окружность симметрична. Для каждой координаты `y` мы знаем минимальный и максимальный `x`, которые принадлежат окружности. Просто рисуем между ними линию!

### Модифицируем наш код:

В твоей функции `circle` уже есть процедура `draw`, которая рисует 8 точек по симметрии. Ее нужно заменить на процедуру, которая будет рисовать 8 горизонтальных линий!

```javascript

// Было:
const draw = (cx, cy, x, y) => {
  this.pixel(cx + x, cy + y)
  this.pixel(cx - x, cy + y)
  // ... и т.д. для 8 точек
}

// Станет:
const fill = (cx, cy, x, y) => {
  this.hline(cx - x, cy + y, cx + x) // Верхняя половина
  this.hline(cx - x, cy - y, cx + x) // Нижняя половина
  this.hline(cx - y, cy + x, cx + y) // Еще две линии для полного покрытия
  this.hline(cx - y, cy - x, cx + y)
}
```

Но для этого тебе понадобится функция `hline()`! Ее можно реализовать очень просто — циклом от `x0` до `x1` с вызовом `pixel()`.


## Задачи на сегодня:

* Реализуй функцию `hline(x0, y, x1)` для рисования горизонтальной линии. Она будет гораздо проще твоего `line()`, так как `y` не меняется.

* Создай функцию `fillCircle(cx, cy, r)` на основе кода `circle`, но с заменой процедуры `draw` на процедуру `fill`, которая использует `hline`.

* Протестируй. Нарисуй несколько закрашенных кругов разного радиуса и цвета. Убедись, что нет "дырок" и лишних пикселей.
